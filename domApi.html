<!DOCTYPE html>
<html ng-app="exampleApp">
<head>
  <title>DOM API Services</title>

  <link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
  <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
  <link href="http://netdna.bootstrapcdn.com/bootswatch/3.1.1/cerulean/bootstrap.min.css" rel="stylesheet">

  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.15/angular.min.js"></script>
  <script type="text/javascript">
    angular.module("exampleApp", [])
      .config(function ($locationProvider) {
        $locationProvider.html5Mode(true);
      })
      .controller("defaultCtrl", function ($scope, $window, $document) {
        /* $document.find("button").on("click", function (event) {
          $window.alert(event.target.innerText);
        }); */
      })
      .controller("delayCtrl", function ($scope, $interval) {
        $interval(function () {
          $scope.time = new Date().toTimeString();
        }, 1000);
      })
      .controller("urlCtrl", function ($scope, $location, $anchorScroll) {

        // url manipulation
        $scope.$on("$locationChangeSuccess", function (event, newUrl) {
          $scope.url = newUrl;
        });

        $scope.setUrl = function (component) {
          switch (component) {
            case "reset":
              $location.path("");
              $location.hash("");
              $location.search("");
              break;
            case "path":
              $location.path("/cities/amsterdam");
              break;
            case "hash":
              $location.hash("north");
              break;
            case "search":
              $location.search("select", "hotels");
              break;
            case "url":
              $location.url("/cities/amsterdam?select=hotles#north");
              break;
            default:
              console.log('fell through the cracks: '+ component);
          }
        }

        // Anchor scroll
        $scope.itemCount = 50;
        $scope.items = [];

        for (var i = 0; i < $scope.itemCount; i++) {
          $scope.items[i] = "Item " + i;
        }

        $scope.show = function (id) {
          $location.hash(id);
        }
      });
  </script>
</head>
<body ng-controller="defaultCtrl">
  <div class="container">
    <div class="well">
      <button class="btn btn-primary">Click Me</button>
    </div>

    <div class="panel panel-default" ng-controller="delayCtrl">
      <h4 class="panel-heading">Time</h4>
      <div class="panel-body">
        The time is: {{time}}
      </div>
    </div>

    <div class="panel panel-default" ng-controller="urlCtrl">
      <h4 class="panel-heading">URL</h4>
      <div class="panel-body">
        <p>The url is: {{url}}</p>
        <div class="btn-group">
          <button class="btn btn-primary" ng-click="setUrl('reset')">Reset</button>
          <button class="btn btn-primary" ng-click="setUrl('path')">Path</button>
          <button class="btn btn-primary" ng-click="setUrl('hash')">Hash</button>
          <button class="btn btn-primary" ng-click="setUrl('search')">Search</button>
          <button class="btn btn-primary" ng-click="setUrl('url')">URL</button>
        </div>
      </div>

      <div class="panel-body">
        <p id="top">This is the top</p>
        <button class="btn btn-primary" ng-click="show('bottom')">Go to bottom</button>
        <p>
          <ul>
            <li ng-repeat="item in items">{{item}}</li>
          </ul>
        </p>
        <p id="bottom">This is the bottom</p>
        <button class="btn btn-primary" ng-click="show('top')">Go to top</button>
      </div>
    </div>
  </div>
</body>
</html>